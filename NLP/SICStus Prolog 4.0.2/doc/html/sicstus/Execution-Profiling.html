<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
<head>
<title>Execution Profiling - SICStus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="SICStus Prolog">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Writing-Efficient-Programs.html#Writing-Efficient-Programs" title="Writing Efficient Programs">
<link rel="prev" href="Eff-Overview.html#Eff-Overview" title="Eff Overview">
<link rel="next" href="The-Cut.html#The-Cut" title="The Cut">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<h3 class="section">9.2 Execution Profiling</h3>

<p><a name="index-execution-profiling-2161"></a><a name="index-profiling_002c-execution-2162"></a><a name="index-counter-2163"></a>Execution profiling is a common aid for improving software
performance.  The SICStus Prolog compiler has the capability of
instrumenting compiled code with <dfn>counters</dfn>, which are
initially zero and incremented whenever the flow of control passes a
given point in the compiled code.  This way the number of calls,
backtracks, choicepoints created, etc., can be counted for
the instrumented predicates, and an estimate of the time spent in
individual clauses and disjuncts can be calculated.

   <p>Gauge is a graphical user interface for inspecting execution profiles. 
It is available as a library module (see <a href="lib_002dgauge.html#lib_002dgauge">lib-gauge</a>).

   <p>The original version of the profiling package was written by
M.M. Gorlick and C.F. Kesselman at the Aerospace Corporation [Gorlick &amp;
Kesselman 87].

   <p>Only compiled code can be instrumented.  To get an execution
profile of a program, the compiler must first be told to
produce instrumented code.  This is done by issuing the query:
<a name="index-compiling-_0028prolog-flag_0029-2164"></a>
<pre class="example">     | ?- <kbd>prolog_flag(compiling,_,profiledcode).</kbd>
</pre>
   <p class="noindent">after which the program to be analyzed can be compiled as
usual.  Any new compiled code will be instrumented while the
<code>compiling</code> Prolog flag has the value <code>profiledcode</code>.

   <p>The profiling data is generated by simply running the
program.  The predicate <code>profile_data/4</code> (see below)
makes available a selection of the data as a Prolog term.  The
predicate <code>profile_reset/1</code> zeroes the profiling
counters for a selection of the currently instrumented predicates. 
For more information, see the respective reference page.

     <dl>
<dt><code>profile_data(</code><var>:Spec</var><code>,</code><var>?Selection</var><code>,</code><var>?Resolution</var><code>,</code><var>-Data</var><code>)  </code><dfn>development</dfn><dd><a name="index-profile_005fdata_002f4-_0028built_002din_0029-2165"></a><a name="index-profile_005fdata_002f4-_0028built_002din_0029-2166"></a>
<var>Data</var> is the profiling data collected from the instrumented
predicates covered by <var>Spec</var> with selection and resolution
<var>Selection</var> and <var>Resolution</var> respectively.

     <br><dt><code>profile_reset(</code><var>:Spec</var><code>)  </code><dfn>development</dfn><dd><a name="index-profile_005freset_002f1-_0028built_002din_0029-2167"></a><a name="index-profile_005freset_002f1-_0028built_002din_0029-2168"></a>
The profiling counters for the instrumented predicates
covered by <var>Spec</var> are zeroed. 
</dl>

<div class="logo">
<a href="http://www.sics.se/sicstus/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a rel="next" accesskey="n" href="The-Cut.html#The-Cut">Next</a>
<li><a rel="previous" accesskey="p" href="Eff-Overview.html#Eff-Overview">Previous</a>
<li><a rel="up" accesskey="u" href="Writing-Efficient-Programs.html#Writing-Efficient-Programs">Up</a>
</ul>
</div>
<hr>
<a HREF="mailto:sicstus-support@sics.se?subject=Documentation%20feedback%20on%20html/sicstus/Execution-Profiling.html&amp;body=Feedback%20on%20documentation%20node%20html/sicstus/Execution-Profiling.html%20in%20User's%20Manual.">Send feedback on this subject.</mailto>
   </body></html>

